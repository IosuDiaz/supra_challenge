<div class="container mx-auto p-6">
  <h1 class="text-4xl font-bold text-gray-800 mb-6">Influencers Destacados</h1>

  <!-- Barra de búsqueda y filtro de plataforma -->
  <div class="relative mb-6">
    <%= form_with url: influencers_path, method: :get, data: { controller: "search", turbo_frame: "influencers_list" }, class: "w-full flex gap-4" do |f| %>
      <!-- Input de búsqueda -->
      <%= f.search_field :query, 
            placeholder: "🔍 Buscar influencer...", 
            class: "w-full px-4 py-3 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",
            data: { action: "input->search#filter", search_target: "input" } %>

      <!-- Filtro de plataforma -->
      <%= f.select :platform, 
            options_for_select([["Todas", ""], "Instagram", "TikTok", "YouTube"], params[:platform] || "Todas"), 
            {}, 
            class: "w-44 px-4 py-3 border rounded-full bg-white shadow-sm",
            data: { action: "change->search#filterSelect", search_target: "platform" } %>
    <% end %>
  </div>

  <!-- Turbo Frame para actualizar solo la lista -->
  <turbo-frame id="influencers_list">
    <%= render "influencers/list", influencers: @influencers %>
  </turbo-frame>
</div>
